\documentclass{standalone}
\usepackage{tikz, tikz-cd}
\usetikzlibrary{shapes, decorations.markings}
\begin{document}

\begin{tikzpicture}[scale=0.9]
\node[draw, circle, inner sep=2] (l1) at (2,2) {\tiny{$A$}};
\node[draw] (o1) at (1,3.5) {\tiny{$X_1$}};
\node[draw] (o2) at (2,3.5) {\tiny{$X_2$}};
\node[draw] (o3) at (3,3.5) {\tiny{$X_3$}};
\node[draw, circle, inner sep=1] (l2) at (1.75,4.5) {\tiny{$E_1$}};
\node[draw, circle, inner sep=1] (l3) at (2.75,4.5) {\tiny{$E_2$}};
\node[draw, circle, inner sep=1] (l4) at (3.75,4.5) {\tiny{$E_3$}};
\node[draw, circle, inner sep=2] (l5) at (6,2) {\tiny{$B$}};
\node[draw] (o4) at (5,3.5) {\tiny{$X_4$}};
\node[draw] (o5) at (6,3.5) {\tiny{$X_5$}};
\node[draw] (o6) at (7,3.5) {\tiny{$X_6$}};
\node[draw, circle, inner sep=1] (l6) at (5.75,4.5) {\tiny{$E_4$}};
\node[draw, circle, inner sep=1] (l7) at (6.75,4.5) {\tiny{$E_5$}};
\node[draw, circle, inner sep=1] (l8) at (7.75,4.5) {\tiny{$E_6$}};
\node[draw, circle, inner sep=2] (l9) at (10,2) {\tiny{$C$}};
\node[draw] (o7) at (9,3.5) {\tiny{$X_7$}};
\node[draw] (o8) at (10,3.5) {\tiny{$X_8$}};
\node[draw] (o9) at (11,3.5) {\tiny{$X_9$}};
\node[draw, circle, inner sep=1] (l10) at (9.75,4.5) {\tiny{$E_7$}};
\node[draw, circle, inner sep=1] (l11) at (10.75,4.5) {\tiny{$E_8$}};
\node[draw, circle, inner sep=1] (l12) at (11.75,4.5) {\tiny{$E_9$}};
% Arrows
\draw [->, thin, >=latex] (l1)--(o1.south);
\draw [->, thin, >=latex] (l1)--(o2.south);
\draw [->, thin, >=latex] (l1)--(o3.south);
\draw [->, thin, >=latex] (l2)--(o1.north east) node[midway,left] {\tiny 1};
\draw [->, thin, >=latex] (l3)--(o2.north east) node[midway,left] {\tiny 1};
\draw [->, thin, >=latex] (l4)--(o3.north east) node[midway,left] {\tiny 1};
\draw [->, thin, >=latex] (l5)--(o4.south);
\draw [->, thin, >=latex] (l5)--(o5.south);
\draw [->, thin, >=latex] (l5)--(o6.south);
\draw [->, thin, >=latex] (l6)--(o4.north east) node[midway,left] {\tiny 1};
\draw [->, thin, >=latex] (l7)--(o5.north east) node[midway,left] {\tiny 1};
\draw [->, thin, >=latex] (l8)--(o6.north east) node[midway,left] {\tiny 1};
\draw [->, thin, >=latex] (l9)--(o7.south);
\draw [->, thin, >=latex] (l9)--(o8.south);
\draw [->, thin, >=latex] (l9)--(o9.south);
\draw [->, thin, >=latex] (l10)--(o7.north east) node[midway,left] {\tiny 1};
\draw [->, thin, >=latex] (l11)--(o8.north east) node[midway,left] {\tiny 1};
\draw [->, thin, >=latex] (l12)--(o9.north east) node[midway,left] {\tiny 1};
% Residuals:
\draw[<->, very thin, >=latex] (l2) to [out=70,in=110,looseness=9] (l2);
\draw[<->, very thin, >=latex] (l3) to [out=70,in=110,looseness=9] (l3);
\draw[<->, very thin, >=latex] (l4) to [out=70,in=110,looseness=9] (l4);
\draw[<->, very thin, >=latex] (l6) to [out=70,in=110,looseness=9] (l6);
\draw[<->, very thin, >=latex] (l7) to [out=70,in=110,looseness=9] (l7);
\draw[<->, very thin, >=latex] (l8) to [out=70,in=110,looseness=9] (l8);
\draw[<->, very thin, >=latex] (l1) to [out=160,in=200,looseness=9] (l1);
\draw[<->, very thin, >=latex] (l5) to [out=160,in=200,looseness=9] (l5);
\draw[<->, very thin, >=latex] (l9) to [out=160,in=200,looseness=9] (l9);
\draw[<->, very thin, >=latex] (l10) to [out=70,in=110,looseness=9] (l10);
\draw[<->, very thin, >=latex] (l11) to [out=70,in=110,looseness=9] (l11);
\draw[<->, very thin, >=latex] (l12) to [out=70,in=110,looseness=9] (l12);
\draw[<->, very thin, >=latex] (l1) to [out=290,in=250,looseness=1] (l5);
\draw[<->, very thin, >=latex] (l5) to [out=290,in=250,looseness=1] (l9);
\draw[<->, very thin, >=latex] (l1) to [out=290,in=250,looseness=1] (l9);
\end{tikzpicture}

\end{document}